void createReservation(const QString &carId,
                       const QString &startDate,
                       const QString &endDate)
{
    QString path = QCoreApplication::applicationDirPath()
                   + "/reservations.txt";
    QFile file(path);

    if (!file.open(QIODevice::Append | QIODevice::Text))
        return;

    QTextStream out(&file);

    out << Session::userId << ","
        << carId << ","
        << startDate << ","
        << endDate << ",Pending\n";

    file.close();
}




void reservationView::on_confirmPushButton_clicked()
{
    QString startDate =
        ui->startDateEdit->date().toString("yyyy-MM-dd");
    QString endDate =
        ui->endDateEdit->date().toString("yyyy-MM-dd");

    if (endDate <= startDate)
    {
        QMessageBox::warning(this, "Error",
                             "End date must be after start date");
        return;
    }

    createReservation(carId, startDate, endDate);
    updateCarStatus(carId);

    QMessageBox::information(this, "Done",
                             "Reservation submitted");

    close();
}
